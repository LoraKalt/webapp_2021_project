<main>
    <div class="row mx-auto">
        <div class="col-xl-2">
            <!-- Left column, empty for now -->
        </div>
        <div class="col-xl-8">
            <div class="card mx-md-0 mx-3 my-3">
                <div class="row card-body">
                    <div class="col-xl-11">
                        <h4><strong><%= displayUser.fullName %></strong></h4>
                        <h5>
                            <small class="text-muted">
                                <a href="<%= `/users/${displayUser.username}` %>">@<%= displayUser.username %></a>
                            </small>
                        </h5>
                        <div>
                            <strong>About</strong>
                        </div>
                        <div>
                            <%= displayUser.bio %>
                        </div>
                        <div>
                            <strong>Location</strong>
                            <span><%= displayUser.location %></span>
                        </div>
                    </div>
                    <div class="col-xl-1">
                        <% if (loggedIn && displayUser.username === currentUser.username) {%>
                            <a class="btn btn-primary" href="/profile/edit" role="button">Edit</a>
                        <% } %>
                    </div>
                </div>
            </div>
            <% if (loggedIn) {%>
                <%- include('../partials/newPost')  %>
            <% } %>
            <% posts.length > 0 && posts.forEach(post => { %>
                <%- include('../partials/post', {post: post})  %>
            <% }); %>
            <% if(posts.length <= 0) { %>
                <div class="card mx-md-0 mx-3 my-3">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-xl-10">
                                <h2>There were no more posts to load...</h2>
                            </div>
                        </div>
                    </div>
                </div>
            <% } %>
            <div class="row">
                <div class="<%= (posts.length <= 0) ? "col-xl-12" : "col-xl-6" %>">
                    <% if(!isFirstPage) { %>
                        <a role="button" href="<%= `/users/${displayUser.username}/page/${prevPage}` %>" class="btn btn-outline-primary btn-block">&larr; Newer posts</a>
                    <% } %>
                </div>
                <div class="<%= isFirstPage ? "col-xl-12" : "col-xl-6" %>">
                    <% if(!(posts.length <= 0)) { %>
                        <a role="button" href="<%= `/users/${displayUser.username}/page/${nextPage}` %>" class="btn btn-outline-primary btn-block">Older posts &rarr;</a>
                    <% } %>
                </div>
            </div>
    </div>
</main>